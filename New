import hashlib

def get_color_from_name(name, palette):
    """Hash the LEC name to a stable index in the palette."""
    h = int(hashlib.sha256(name.encode("utf-8")).hexdigest(), 16)
    return palette[h % len(palette)]

all_lecs = set(map(str, lec_total_df["LEC"])).union(map(str, lec_fail_df["LEC"]))
colors = plotly.colors.qualitative.Plotly
lec_color_map = {lec: get_color_from_name(lec, colors) for lec in all_lecs}
