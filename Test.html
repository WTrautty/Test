I'll add a correlation calculation between failures and usage, and display it in the dashboard summary. Here's the modified part of the script (just add this before the dashboard creation and modify the dashboard summary):

```python
# Add this after loading the data and before the dashboard creation:

# === CORRELATION ANALYSIS ===
def calculate_correlations():
    """Calculate correlations between failures and usage."""
    # Create a DataFrame with both failures and usage
    combined_df = pd.DataFrame({
        'Failures': failures,
        'Usage': usages
    }).fillna(0)
    
    # Calculate Pearson correlation
    pearson_corr = combined_df['Failures'].corr(combined_df['Usage'])
    
    # Calculate Spearman rank correlation
    spearman_corr = combined_df['Failures'].corr(combined_df['Usage'], method='spearman')
    
    return pearson_corr, spearman_corr

# Then modify the create_dashboard function's summary text to include correlations:

def create_dashboard(filename="lec_dashboard.png"):
    """Create a comprehensive dashboard combining all visualizations."""
    # Calculate summary statistics
    total_failures = failures.sum()
    total_usages = usages.sum()
    overall_failure_rate = (total_failures / total_usages) * 100
    timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    
    # Calculate correlations
    pearson_corr, spearman_corr = calculate_correlations()
    
    # Create figure with grid layout
    fig = plt.figure(figsize=(20, 16))
    gs = GridSpec(3, 2, figure=fig, height_ratios=[1, 1, 1.2])
    
    # Title and summary
    ax_title = fig.add_subplot(gs[0, :])
    ax_title.axis('off')
    title_text = "LEC Analysis Dashboard"
    summary_text = (
        f"Total Failures: {total_failures}\n"
        f"Total Usages: {total_usages}\n"
        f"Overall Failure Rate: {overall_failure_rate:.2f}%\n"
        f"Pearson Correlation (Failures vs Usage): {pearson_corr:.3f}\n"
        f"Spearman Correlation (Failures vs Usage): {spearman_corr:.3f}\n"
        f"Generated: {timestamp}"
    )
    ax_title.text(0.5, 0.7, title_text, fontsize=24, fontweight='bold', ha='center')
    ax_title.text(0.5, 0.3, summary_text, fontsize=14, ha='center')
    
    # ... rest of the function remains the same ...
```

This addition will:
1. Calculate both Pearson (linear) and Spearman (rank) correlations between failures and usage
2. Display these correlations in the dashboard summary
3. Help identify if there's a relationship between how often a LEC is used and how often it fails

The Pearson correlation shows linear relationships, while the Spearman correlation shows monotonic relationships (whether ranked values increase or decrease together). Values range from -1 to 1, where:
- 1 indicates perfect positive correlation
- 0 indicates no correlation
- -1 indicates perfect negative correlation

Just insert this code into your existing script, keeping all other parts the same. The correlations will automatically appear in the dashboard summary.
