

def extract_digits_from_123123(val_123123):
    """
    Given a string from the "LAN Port 0 IPv6/mask (Router)" column that contains one or more '/64' occurrences,
    use a regex to find all occurrences and return a list of the digit immediately after the third colon.
    """
    pattern = r'(?:[^:]*:){3}([^\s:])[^:]*?/64'
    return re.findall(pattern, str(val_123123))

if "/64" in str(val_123123):
    extracted_digits = extract_digits_from_123123(val_123123)
    expected_digit = expected_digit_for_region(region)
    if not extracted_digits or expected_digit is None:
        continue  # Skip if extraction failed or region is not recognized
    if any(digit != expected_digit for digit in extracted_digits):
        mismatches.append({
            "NSC": NSC_val,
            "LAN Port 0 IPv6/mask (Router)": val_123123,
            "Region": region,
            "Extracted": extracted_digits,
            "Expected": expected_digit
        })
