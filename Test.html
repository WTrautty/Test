import matplotlib.pyplot as plt

# Assuming chart_data is already built as before

plt.figure(figsize=(10, 8))

# Plot the pie chart
wedges, texts, autotexts = plt.pie(
    chart_data,
    autopct='%1.1f%%',
    startangle=140,
    pctdistance=0.85,         # Moves % labels out a bit
    labeldistance=1.1,        # Moves text labels further out
    wedgeprops={'linewidth': 1, 'edgecolor': 'white'}
)

# Add lines from labels to slices
for text in texts:
    text.set_horizontalalignment('center')
    text.set_fontsize(10)

for autotext in autotexts:
    autotext.set_fontsize(9)
    autotext.set_color('black')

# Add legend if needed
# plt.legend(wedges, chart_data.index, title="LEC Names", loc="center left", bbox_to_anchor=(1, 0.5))

plt.title("LEC Name Distribution (with Leader Lines)")
plt.tight_layout()
plt.show()
