import re
import os

# === Set the path to your input file ===
config_path = "/path/to/your/config.txt"

# === Read the text file ===
with open(config_path, "r") as file:
    content = file.read()

# === Split by 'CHANGE COMMANDS' ===
chunks = content.split("CHANGE COMMANDS")
chunks = [chunk.strip().splitlines() for chunk in chunks if chunk.strip()]

print(f"üîç Found {len(chunks)} chunks delimited by 'CHANGE COMMANDS'.")

# === Process each chunk ===
for i, chunk in enumerate(chunks, start=1):
    values = []

    for line in chunk:
        if line.strip().startswith("/"):
            # Find all rate and cir values
            matches = re.findall(r"\b(?:rate|cir)\s+(\d+)", line, re.IGNORECASE)
            values.extend(matches)

    unique_values = set(values)

    if len(unique_values) == 0:
        print(f"‚ö†Ô∏è  Chunk {i}: No rate or cir values found.")
    elif len(unique_values) == 1:
        print(f"[‚úÖ] Chunk {i}: All rate/cir values match ({list(unique_values)[0]}).")
    else:
        print(f"\n‚ùå Mismatch in Chunk {i}: Found multiple values: {', '.join(unique_values)}")
