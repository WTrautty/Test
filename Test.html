# === Split config into true chunks based on `vprn` blocks ===
chunks = []
current_chunk = []
inside_chunk = False

for line in config_lines:
    if re.match(r"\s*vprn\s+\d+", line):
        if current_chunk:
            chunks.append(current_chunk)
        current_chunk = [line]
        inside_chunk = True
    elif inside_chunk:
        current_chunk.append(line)

# Append final chunk if it exists
if current_chunk:
    chunks.append(current_chunk)
